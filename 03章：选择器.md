**目录：**

- [3. 选择器](#3-选择器)
  - [3.1. 选择器简介](#31-选择器简介)
  - [3.2. 选择器语法](#32-选择器语法)
  - [3.3. 选择器组合](#33-选择器组合)
  - [3.4. 简单选择器](#34-简单选择器)
    - [3.4.1. 类型选择器](#341-类型选择器)
    - [3.4.2. 通用选择器](#342-通用选择器)
    - [3.4.3. 属性选择器](#343-属性选择器)
      - [3.4.3.1. 属性存在和值选择器](#3431-属性存在和值选择器)
      - [3.4.3.2. 子字符串匹配属性选择器](#3432-子字符串匹配属性选择器)
    - [3.4.4. 类选择器](#344-类选择器)
    - [3.4.5. ID 选择器](#345-id-选择器)
    - [3.4.6. 伪类](#346-伪类)
      - [3.4.6.1. 动态伪类](#3461-动态伪类)
      - [3.4.6.2. :target](#3462-target)
      - [3.4.6.3. :lang](#3463-lang)
      - [3.4.6.4. UI 元素状态伪类](#3464-ui-元素状态伪类)
      - [3.4.6.5. 结构性伪类](#3465-结构性伪类)
      - [3.4.6.6. 否定伪类](#3466-否定伪类)
  - [3.5. 伪元素](#35-伪元素)
    - [3.5.1. ::after 和 ::before](#351-after-和-before)
    - [3.5.2. ::first-line](#352-first-line)
    - [3.5.3. ::first-letter](#353-first-letter)
    - [3.5.4. ::selection](#354-selection)
  - [3.6. 组合器](#36-组合器)
    - [3.6.1. 后代元素组合器](#361-后代元素组合器)
    - [3.6.2. 子元素选择器](#362-子元素选择器)
    - [3.6.3. 后续兄弟元素选择器](#363-后续兄弟元素选择器)
    - [3.6.4. 下一个兄弟元素选择器](#364-下一个兄弟元素选择器)
  - [3.7. 选择器特指度](#37-选择器特指度)

# 3. 选择器

## 3.1. 选择器简介

一个选择器代表一个结构。这个结构可以作为一个条件（例如在 CSS 规则中），决定选择器在文档树中匹配哪些元素，或者作为对应于该结构的 HTML 或 XML 片段的平面描述。

选择器的范围可以从简单的元素名称到丰富的上下文表示。

下表总结了选择器的语法：

| 模式                           | 代表元素                                                                         | 描述                                                                           | 级别       |
| ------------------------------ | -------------------------------------------------------------------------------- | ------------------------------------------------------------------------------ | ---------- | --- |
| \*                             | 任何元素                                                                         | 通用选择器                                                                     | 2          |
| E                              | 一个 E 类型的元素                                                                | 类型选择器                                                                     | 1          |
| E[foo]                         | 一个具有 "foo" 属性的 E 元素                                                     | 属性选择器                                                                     | 2          |
| E[foo="bar"]                   | 一个 E 元素，其 "foo" 属性值正好等于 "bar"                                       | 属性选择器                                                                     | 2          |
| E[foo~="bar"]                  | 一个 E 元素，其 "foo" 属性值是一个以空白分隔的值，其中一个正好等于 "bar"         | 属性选择器                                                                     | 2          |
| E[foo^="bar"]                  | 一个 E 元素，它的 "foo" 属性值正好以字符串 "bar" 开始                            | 属性选择器                                                                     | 3          |
| E[foo$="bar"]                  | 一个 E 元素，其 "foo" 属性值正好以字符串 "bar" 结束                              | 属性选择器                                                                     | 3          |
| E[foo*="bar"]                  | 一个 E 元素，其 "foo" 属性值包含子串 "bar"                                       | 属性选择器                                                                     | 3          |
| E[foo                          | ="en"]                                                                           | 一个 E 元素，其 "foo" 属性有一个以 "en" 开头的连字符分隔的值列表（从左边开始） | 属性选择器 | 2   |
| E:root                         | 一个 E 元素，文档的根结构                                                        | 伪类                                                                           | 3          |
| E:nth-child(n)                 | 一个 E 元素，是其父元素的第 n 个子元素                                           | 结构性伪类                                                                     | 3          |
| E:nth-last-child(n)            | 一个 E 元素，是其父元素的第 n 个子元素，从最后一个开始计算                       | 结构性伪类                                                                     | 3          |
| E:nth-of-type(n)               | 一个 E 元素，是其类型的第 n 个兄弟元素                                           | 结构性伪类                                                                     | 3          |
| E:nth-last-of-type(n)          | 一个 E 元素，它的类型的第 n 个兄弟元素，从最后一个开始计算                       | 结构性伪类                                                                     | 3          |
| E:first-child                  | 一个 E 元素，是其父元素的第一个子元素                                            | 结构性伪类                                                                     | 2          |
| E:last-child                   | 一个 E 元素，是其父元素的最后一个子元素                                          | 结构性伪类                                                                     | 3          |
| E:first-of-type                | 一个 E 元素，其类型的第一个兄弟元素                                              | 结构化伪类                                                                     | 3          |
| E:last-of-type                 | 一个 E 元素，其类型的最后一个兄弟元素                                            | 结构性伪类                                                                     | 3          |
| E:only-child                   | 一个 E 元素，是其父元素的唯一子元素                                              | 结构性伪类                                                                     | 3          |
| E:only-of-type                 | 一个 E 元素，是其类型的唯一兄弟元素                                              | 结构性伪类                                                                     | 3          |
| E:empty                        | 一个 E 元素，没有子节点（包括文本节点）                                          | 结构性伪类                                                                     | 3          |
| E:link 和 E:visited            | 一个 E 元素是一个超链接的锚点，其目标尚未被访问（:link）或已经被访问（:visited） | 链接伪类                                                                       | 1          |
| E:active 和 E:hover 和 E:focus | 在某些用户操作期间的一个 E 元素                                                  | 用户操作伪类                                                                   | 1 和 2     |
| E:target                       | 一个 E 元素，是引用 URI 的目标                                                   | target 伪类                                                                    | 3          |
| E:lang(fr)                     | 一个语言为 "fr" 的 E 类型元素（文件语言指定如何确定语言）                        | :lang 伪类                                                                     | 2          |
| E:enabled 和 E:disabled        | 一个用户界面元素 E，它被启用或禁用                                               | UI 元素状态伪类                                                                | 3          |
| E:checked                      | 一个被选中的用户界面元素 E（例如一个单选按钮或复选框）                           | UI 元素说明伪类                                                                | 3          |
| E::first-line                  | 一个 E 元素的第一个格式化的行                                                    | ::first-line 伪元素                                                            | 1          |
| E::first-letter                | 一个 E 元素的第一个格式化的字母                                                  | ::first-letter 伪元素                                                          | 1          |
| E::before                      | 在 E 元素之前生成的内容                                                          | ::before 伪元素                                                                | 2          |
| E::after                       | 在一个 E 元素之后生成的内容                                                      | ::after 伪元素                                                                 | 2          |
| E.warning                      | 一个 E 元素，它的类是 "warning"（文档语言指定类是如何确定的）                    | 类选择器                                                                       | 1          |
| E#myid                         | 一个 E 元素，ID 等于 "myid"                                                      | ID 选择器                                                                      | 1          |
| E:not(s)                       | 一个 E 元素，不符合简单选择器 s                                                  | 否定伪类                                                                       | 3          |
| E F                            | 一个 E 元素的 F 元素的后代元素                                                   | 后代元素组合器                                                                 | 1          |
| E > F                          | 一个 E 元素的 F 元素的子元素                                                     | 子元素组合器                                                                   | 2          |
| E + F                          | 一个 F 元素紧挨着一个 E 元素的后置元素                                           | 下一个下一个兄弟元素组合器                                                     | 2          |
| E ~ F                          | 一个 F 元素前面有一个 E 元素                                                     | 后续兄弟元素组合器                                                             | 3          |

## 3.2. 选择器语法

一个选择器是由组合器分隔的一个或多个简单选择器序列组成的链条。一个伪元素可以被附加到一个选择器中最后一个简单选择器序列上。

一个简单选择器序列是一个没有被组合器分开的简单选择器链。它总是以一个类型选择器或一个通用选择器开始。在这个序列中不允许有其他类型选择器或通用选择器。

一个简单的选择器是一个类型选择器、通用选择器、属性选择器、类选择器、ID 选择器或伪类。

组合器是：空白、"大于号"（U+003E，>）、"加号"（U+002B，+）和 "倾斜号"（U+007E，~）。在组合器和它周围的简单选择器之间可以出现空白。只有 "空格"（U+0020）、"制表"（U+0009）、"换行"（U+000A）、"回车"（U+000D）和 "换页"（U+000C）这些字符可以出现在空白处。其他类似空格的字符，如 "em-space"（U+2003）和 "ideographic space"（U+3000），从来不是空白的一部分。

一个选择器所代表的文档树的元素是选择器的主体。一个由简单选择器的单一序列组成的选择器代表任何满足其要求的元素。将另一个简单选择器序列和一个组合器预置到一个序列中，会施加额外的匹配约束，所以选择器的主体总是最后一个简单选择器序列所代表的元素的一个子集。

一个空的选择器，不包含任何简单选择器序列和伪元素，是一个无效的选择器。

根据与 CSS 相同的转义规则，选择器中的字符可以用反斜杠转义。[CSS21].

某些选择器支持命名空间前缀。命名空间前缀的声明机制应该由使用选择器的语言来指定。如果该语言没有指定命名空间前缀的声明机制，那么就不会声明前缀。在 CSS 中，命名空间前缀是用@namespace 规则声明的。[css3namespace]

## 3.3. 选择器组合

逗号分隔的选择器列表表示列表中每个单独的选择器所选择的所有元素的并集。(逗号是 U+002C。）例如，在 CSS 中，当几个选择器共享相同的声明时，它们可以被归入一个逗号分隔的列表。逗号之前和/或之后可以出现空白。

CSS 的例子：

在这个例子中，我们将三个具有相同声明的规则压缩为一个。因此：

```css
h1 {
  font-family: sans-serif;
}
h2 {
  font-family: sans-serif;
}
h3 {
  font-family: sans-serif;
}
```

相当于：

```css
h1,
h2,
h3 {
  font-family: sans-serif;
}
```

警告：在这个例子中，等价关系是真实的，因为所有的选择器都是有效的选择器。如果这些选择器中只有一个是无效的，那么整组选择器都将是无效的。这将使所有三个标题元素的规则失效，而在前一种情况下，只有三个单独的标题规则中的一个会被废止。

无效的 CSS 例子：

```css
h1 {
  font-family: sans-serif;
}
h2...foo {
  font-family: sans-serif;
}
h3 {
  font-family: sans-serif;
}
```

并不等同于:

```css
h1,
h2...foo,
h3 {
  font-family: sans-serif;
}
```

因为上面的选择器（h1, h2...foo, h3）是完全无效的，整个样式规则被放弃。(当选择器没有分组时，只有 h2...foo 的规则被放弃。)

## 3.4. 简单选择器

### 3.4.1. 类型选择器

类型选择器通过 node 节点名称匹配元素. 因此，在单独使用时，寻找特定类型的元素时，元素选择器都会匹配该文档中所有此类型的元素。

下面的例子展示了元素选择器的用法。

```css
body {
  margin: 0px;
  display: flex;
  flex-direction: column;
  flex-wrap: wrap;
}
```

### 3.4.2. 通用选择器

通用选择器用星号（\* U+002A）作为名称，代表任何元素类型的限定名。如果没有为选择器指定默认的命名空间，它代表文档树中任何命名空间的任何单一元素（包括没有命名空间的元素）。如果指定了一个默认的命名空间，请看下面的通用选择器和命名空间。

如果一个由\*代表的通用选择器（即没有命名空间前缀）不是简单选择器选择器序列的唯一组成部分，或者紧接着一个伪元素，那么\*可以被省略，通用选择器的存在被暗示。

例如：

```css
*[hreflang|=en] 等同于 [hreflang|=en]
*.warning 等同于 .warning
*#myid 等同于 #myid
```

注意：建议不要省略*，因为它减少了诸如 div :first-child 和 div:first-child 之间的潜在混淆。这里，div *:first-child 更易读。

### 3.4.3. 属性选择器

选择器允许代表一个元素的属性。当一个选择器被用作表达式来匹配一个元素时，如果一个元素有一个与属性选择器所代表的属性相匹配的属性，那么属性选择器必须被认为是匹配该元素。

#### 3.4.3.1. 属性存在和值选择器

CSS2 引入了以下 4 种属性选择器：

1. **[attr]**

选取有 attr 属性的元素。

```css
input[required] {
  /* 选择input中带有 required 的元素。 */
}
```

2. **[attr=value]**

选取属性为特定值的元素

```css
a[target='_blank'] {
  /* 选取 target 属性为 "_blank" 的 a 元素 */
  background-color: yellow;
}
```

3. **[attr~=value]**

[attr~=value] 选择器选取属性值包含指定词的元素。

```css
[title~='flower'] {
  border: 5px solid yellow;
}
```

上面的例子会匹配以下属性的元素：title="flower"、title="summer flower" 以及 title="flower new"，但不匹配：title="my-flower" 或 title="flowers"。

4. **[attr|=value]**

[attr|=value] 选择器用于选取指定属性以指定值开头的元素。

```css
[class|='top'] {
  background: yellow;
}
```

上例选取 class 属性以 "top" 开头的所有元素，而且值必须是完整或单独的单词，比如 class="top" 或者后跟连字符的，比如 class="top-text"。

#### 3.4.3.2. 子字符串匹配属性选择器

提供了三个额外的属性选择器，用于匹配属性值中的子字符串:

1. **[attr^=value]**

[attr^=value] 选择器用于选取指定属性以指定值开头的元素。

```css
[class^='top'] {
  background: yellow;
}
```

上例选取 class 属性以 "top" 开头的所有元素，但值不必是完整单词！

2. **[attr$=value]**

[attre$=value] 选择器用于选取指定属性以指定值结尾的元素。

```css
[class$='wrapper'] {
  background-color: yellow;
}
```

上例选取 class 属性以 "test" 结尾的所有元素，但值不必是完整单词。

3. **[attr*=value]**

[attr*=value] 选择器选取属性值包含指定词的元素。

```css
[class*='te'] {
  background: yellow;
}
```

上例选取 class 属性包含 "te" 的所有元素，但值不必是完整单词！

### 3.4.4. 类选择器

在一个 HTML 文档中，CSS 类选择器会根据元素的类属性中的内容匹配元素。类属性被定义为一个以空格分隔的列表项，在这组类名中，必须有一项与类选择器中的类名完全匹配，此条样式声明才会生效。

类选择器有 3 种基本用法：

1. **.className**

这种用法选择所有具有 className 的元素。

2. **tagName.className**

这种用法选择所有 tagName 类型的元素中含有 className 的元素。

3. **.className1.className2**

这种用法选择所有同时具有 className1 和 className2 的元素。

当然你也可以组合产生更多用法。

下面展示了了一些用例。

```css
p.center.bold {
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
}
```

### 3.4.5. ID 选择器

在一个 HTML 文档中，CSS ID 选择器会根据该元素的 ID 属性中的内容匹配元素，元素 ID 属性名必须与选择器中的 ID 属性名完全匹配，此条样式声明才会生效。

id 选择器既可以单独使用也可以紧跟在一个元素选择器后面：

```css
#nav-bar {
  display: flex;
}
```

```css
div#nav-bar {
  display: flex;
}
```

### 3.4.6. 伪类

伪类概念的引入是为了允许根据文档树之外的信息或不能用其他简单选择器表达的信息进行选择。

伪类总是由一个 "冒号"（:）组成，后面是伪类的名称，也可以选择括号内的值。

伪类在一个选择器中包含的所有简单选择器序列中都是允许的。伪类允许出现在简单选择器序列的任何地方，在领先的类型选择器或通用选择器（可能省略）之后。伪类的名字是不区分大小写的。一些伪类是相互排斥的，而其他伪类可以同时应用于同一个元素。伪类可以是动态的，也就是说，当用户与文档交互时，一个元素可以获得或失去一个伪类。

#### 3.4.6.1. 动态伪类

动态伪类根据元素的名称、属性或内容以外的特征对其进行分类，原则上这些特征不能从文档树中推断出来。

动态伪类不会出现在文档源或文档树中。

1. **:link 和 :visted**

:link 选择器匹配超链接。:visited 选择器匹配用户已访问的超链接。

2. **:hover，:active 和 :focus**

:hover 选择器匹配用户鼠标悬停在其上的任意元素。鼠标在 HTML 页面内移动时，选中的元素样式会发生改变。

:active 选择器匹配当前被用户激活的元素。浏览器依然可以自行决定如何诠释激活，但多数浏览器会在鼠标点击（在触摸屏上是手指按压）的情况下使用这个选择器。

最后一个动态伪类选择器是 :focus 选择器，它匹配当前获得焦点的元素。

#### 3.4.6.2. :target

:target CSS 伪类代表一个唯一的页面元素(目标元素)，其 id 与当前 URL 片段匹配。

```css
/* 选择一个ID与当前URL片段匹配的元素*/
:target {
  border: 2px solid black;
}
```

#### 3.4.6.3. :lang

:lang 选择器匹配基于 lang 全局属性值的元素。如：:lang(zh-CN)。

#### 3.4.6.4. UI 元素状态伪类

1. **:enabled 和 :disabled**

有些元素有启用或者禁用状态，这些元素一般是用来收集用户输入的。:enabled 和 :disabled 选择器不会匹配没有禁用状态的元素。

2. **:checked**

使用:checked 选择器可以选中由 checked 属性或者用户勾选的单选按钮或者复选框。

#### 3.4.6.5. 结构性伪类

使用结构性伪类选择器能够根据元素在文档中的位置选择元素。这类选择器都有一个冒号字符前缀（:）， 例如： empty。它们可以单独使用，也可以跟其他选择器组合使用，如 p:empty。

- **:root**

:root 选择器匹配文档中的根元素。它可能是用得最少的一个伪类选择器，因为总是返回 html 元素。

```css
:root {
  background: yellow;
}
```

- **子元素伪类**

使用子元素伪类匹配直接包含在其他元素中的单个元素。

1. **:first-child**

:first-child 伪类表示在一组兄弟元素中的第一个元素。

```html
<div>
  <p>This text is selected!</p>
  <p>This text isn't selected.</p>
</div>

<div>
  <h2>This text isn't selected: it's not a `p`.</h2>
  <p>This text isn't selected.</p>
</div>
```

```css
p:first-child {
  color: lime;
  background-color: black;
  padding: 5px;
}
```

这个例子中，只会选择第一个 p 元素。

2. **:last-child**

:lst-child 伪类表示在一组兄弟元素中的最后一个元素。

```html
<ul>
  <li>此元素背景色不是lime</li>
  <li>我的也不是lime。</li>
  <li>我的才是lime！ :)</li>
</ul>
```

```css
li:last-child {
  background-color: lime;
}
```

在这个例子中，只有最后一个 li 元素被选择。

4. **:nth-child(n)**

:nth-child(n) 伪类选择器选择一组兄弟元素中顺序地第 n 个。

```html
<ul>
  <li>此元素背景色不是lime</li>
  <li>我的也不是lime。</li>
  <li>我的才是lime！ :)</li>
</ul>
```

```css
li:nth-child(2) {
  background-color: blue;
}
```

这个例子中，只有第 2 个 li 元素会被选中。

5. **:nth-last-child(n)**

这个伪类选择器和 :nth-child(n) 非常类似，只不过这个选择器的顺序是逆序。

```html
<ul>
  <li>此元素背景色不是lime</li>
  <li>我的也不是lime。</li>
  <li>我的才是lime！ :)</li>
</ul>
```

```css
li:nth-last-child(1) {
  background-color: blue;
}
```

这个例子中，最后一个 li 元素被选中。

6. **:only-child**

:only-child 匹配没有任何兄弟元素的元素。

```html
<ol>
  <li>
    First
    <ul>
      <li>This list has just one element.</li>
    </ul>
  </li>
  <li>
    Second
    <ul>
      <li>This list has three elements.</li>
      <li>This list has three elements.</li>
      <li>This list has three elements.</li>
    </ul>
  </li>
</ol>
```

```css
li li {
  list-style-type: disc;
}
li:only-child {
  color: red;
  list-style-type: square;
}
```

这个例子中 "This list has just one element." 内容的 li 元素会被选中。

7. **:only-of-type**

:only-of-type 代表了任意一个元素，这个元素没有其他相同类型的兄弟元素。

<main>
  <div>I am `div` #1.</div>
  <p>I am the only `p` among my siblings.</p>
  <div>I am `div` #2.</div>
  <div>I am `div` #3.
    <i>I am the only `i` child.</i>
    <em>I am `em` #1.</em>
    <em>I am `em` #2.</em>
  </div>
</main>

```css
main :only-of-type {
  color: red;
}
```

上面的例子中只会选中 p 元素。

6. **:nth-of-type(n)**

:nth-of-type() 这个 CSS 伪类是针对具有一组兄弟节点的标签, 用 n 来筛选出在一组兄弟节点的位置。

```html
<div>
  <div>这段不参与计数。</div>
  <p>这是第一段。</p>
  <p>这是第二段。</p>
  <div>这段不参与计数。</div>
  <p>这是第三段。</p>
  <p>这是第四段。</p>
</div>
```

```css
/* 奇数段 */
p:nth-of-type(2n + 1) {
  color: red;
}

/* 偶数段 */
p:nth-of-type(2n) {
  color: blue;
}

/* 第一段 */
p:nth-of-type(1) {
  font-weight: bold;
}
```

7. **:nth-last-of-type(n)**

:nth-last-of-type(n) 和 :nth-of-type(n) 类型，不过顺序相反。

8. **:empty**

:empty 选择器匹配没有定义任何子元素的元素。

#### 3.4.6.6. 否定伪类

CSS 伪类 :not() 用来匹配不符合一组选择器的元素。由于它的作用是防止特定的元素被选中，它也被称为反选伪类。

```css
/* 选择所有不是段落（p）的元素 */
:not(p) {
  color: blue;
}
```

## 3.5. 伪元素

CSS 中还定义了伪选择器(pseudo-selector)， 它们提供了更复杂的功能，但并非直接对应 HTML 文档定义的元素。伪选择器分两种：伪元素和伪类。本节将介绍和演示伪元素选择器。顾名思义，伪元素实际上并不存在，它们是 CSS 提供的额外“福利”，为了方便你选中文档内容。

### 3.5.1. ::after 和 ::before

CSS 伪元素::after 用来创建一个伪元素，作为已选中元素的最后一个子元素。通常会配合 content 属性来为该元素添加装饰内容。这个虚拟元素默认是行内元素。

```css
/* Add an arrow after links */
a::after {
  content: '<-';
}
```

CSS 伪元素::before 用来创建一个伪元素，作为已选中元素的第一个一个子元素。通常会配合 content 属性来为该元素添加装饰内容。这个虚拟元素默认是行内元素。

```css
/* Add an arrow before links */
a::after {
  content: '->';
}
```

### 3.5.2. ::first-line

::first-line 选择器匹配文本块的首行。

```css
::first-line {
  background-color: grey;
  color: white;
}
```

### 3.5.3. ::first-letter

CSS 伪元素 ::first-letter 会选中某 block-level element（块级元素）第一行的第一个字母，并且文字所处的行之前没有其他内容（如图片和内联的表格） 。

```css
p::first-letter {
  font-weight: bold;
  color: red;
}
```

### 3.5.4. ::selection

::selection CSS 伪元素应用于文档中被用户高亮的部分（比如使用鼠标或其他选择设备选中的部分）。

```css
::selection {
  background-color: cyan;
}
```

只有一小部分 CSS 属性可以用于::selection 选择器：

color
background-color
cursor
caret-color
outline and its longhands
text-decoration and its associated properties
text-emphasis-color (en-US)
text-shadow

## 3.6. 组合器

组合使用不同的选择器可以匹配更特定的元素。有的组合选择器能将目标样式应用到更多元素，有的组合选择器则会锁定更少元素，总之会让你的选择非常具体。在接下来的几节中，我会为你展示组合使用选择器的各种方法。

### 3.6.1. 后代元素组合器

后代组合器（通常用单个空格（ ）字符表示）组合了两个选择器，如果第二个选择器匹配的元素具有与第一个选择器匹配的祖先（父母，父母的父母，父母的父母的父母等）元素，则它们将被选择。利用后代组合器的选择器称为后代选择器。

从技术上讲，后代组合器是两个选择器之间的一个或多个 CSS 空格字符-空格字符和/或四个控制字符之一：回车，换页，换行和制表符在没有其他组合器的情况下。此外，组成组合器的空白字符可以包含任意数量的 CSS 注释。

```css
h1 em {
  color: red;
}
```

这个例子中，选择了 h1 元素中的所有 em 元素。

### 3.6.2. 子元素选择器

如果您不希望选择任意的后代元素，而是希望缩小范围，只选择某个元素的子元素，请使用子元素选择器（Child selector）。例如，如果您希望选择只作为 h1 元素子元素的 strong 元素，可以这样写：

```css
h1 > strong {
  color: red;
}
```

这个规则会把第一个 h1 下面的两个 strong 元素变为红色，但是第二个 h1 中的 strong 不受影响：

```html
<h1>
  This is
  <strong>very</strong>
  <strong>very</strong>
  important.
</h1>
<h1>
  This is
  <em>
    really
    <strong>very</strong>
  </em>
  important.
</h1>
```

### 3.6.3. 后续兄弟元素选择器

兄弟选择符，位置无须紧邻，只须同层级，A~B 选择 A 元素之后所有同层级 B 元素。

```css
p ~ span {
  color: red;
}
```

```html
<span>This is not red.</span>
<p>Here is a paragraph.</p>
<code>Here is some code.</code>
<span>And here is a span.</span>
```

这样，只有最后一个 span 元素会被选中。

### 3.6.4. 下一个兄弟元素选择器

相邻兄弟选择器 (+) 介于两个选择器之间，当第二个元素紧跟在第一个元素之后，并且两个元素都是属于同一个父元素的子元素，则第二个元素将被选中。

```css
li + li {
  font-weight: bold;
}
```

```html
<div>
  <ul>
    <li>List item 1</li>
    <li>List item 2</li>
    <li>List item 3</li>
  </ul>
  <ol>
    <li>List item 1</li>
    <li>List item 2</li>
    <li>List item 3</li>
  </ol>
</div>
```

上面这个选择器只会把列表中的第二个和第三个列表项变为粗体。第一个列表项不受影响。

## 3.7. 选择器特指度

一个选择器的特指度计算如下：

- 计算选择器中 ID 选择器的数量(= a)
- 计算选择器中的类选择器、属性选择器和伪类的数量(= b)
- 计算选择器中类型选择器和伪元素的数量(=c)
- 忽略通用选择器

否定伪类里面的选择器和其他的选择器一样被计算，但是否定本身并不作为一个伪类计算。

将 a-b-c 这三个数字串联起来（在一个有大基数的数字系统中），就可以得到特指度。

例如：

```css
\*  /* a=0 b=0 c=0 -> 特指度=0 */
LI /* a=0 b=0 c=1 -> 特指度=1 */
UL LI /* a=0 b=0 c=2 --> 特指度=2 */
UL OL+LI /* a=0 b=0 c=3 --> 特指度=3 */
H1 + _[REL=up] /* a=0 b=1 c=1 -> 特指度=11 */
UL OL LI.red /* a=0 b=1 c=3 -> 特指度=13 */
LI.red.level /* a=0 b=2 c=1 -> 特指度=21 */
#x34y /* a=1 b=0 c=0 -> 特指度=100 */
#s12:not(FOO) /* a=1 b=0 c=1 -> 特指度=101 \*/
```

注意：同一简单选择器的重复出现是允许的，并且确实增加了特指度。
